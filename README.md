# Domain Search - 域名信息收集助手

一个功能强大的Chrome扩展，用于快速收集和分析域名相关信息，包括IP地址、公司信息、ICP备案信息和VirusTotal安全检测等。

<img width="1048" height="626" alt="image" src="https://github.com/user-attachments/assets/4c596d80-7c17-4dda-a882-307171699d3e" />

## 🌟 主要功能

### 1. 域名信息查询
- **域名地址解析**：自动获取当前访问网站的域名
- **IP地址查询**：通过Google DNS API解析域名对应的IP地址
- **实时数据更新**：支持手动搜索任意域名或公司名称

### 2. 资产归属信息
- **所属公司**：显示域名归属的公司名称
- **注册资本**：自动格式化显示（万元为单位）
- **法定代表人**：公司法人代表信息
- **联系方式**：公司电话和邮箱地址

### 3. ICP备案信息
- **备案号**：显示完整的ICP备案号
- **备案状态**：显示备案性质（企业/个人等）
- **主办单位**：备案主体信息（后台获取，用于数据关联）

### 4. VirusTotal安全检测 🆕
- **安全评分**：动态显示安全评分（0-100%）
- **检测引擎**：显示参与检测的安全厂商数量
- **恶意检测**：显示被标记为恶意的检测数量
- **厂商结果**：详细显示各安全厂商的检测结果
- **API集成**：支持VirusTotal API Key配置
- **智能回退**：API失败时自动使用HTML解析

### 5. 用户界面特性
- **双标签页设计**：域名信息和VirusTotal安全检测分离显示
- **响应式设计**：适配不同屏幕尺寸
- **多主题切换**：支持6种炫酷主题风格
  - 默认主题
  - 深色主题
  - 蓝色科技主题
  - 绿色自然主题
  - 紫色梦幻主题
  - 橙色活力主题
- **智能搜索**：点击放大镜图标展开搜索框
- **设置面板**：右上角设置按钮，支持API Key配置
- **调试模式**：可折叠的调试信息面板

## 🛠️ 技术架构

### 文件结构
```
DomainSearch/
├── manifest.json          # 扩展配置文件
├── popup.html            # 主界面HTML
├── popup.js              # 前端逻辑
├── background.js         # 后台服务脚本
├── styles.css            # 样式文件
├── img/                  # 图标资源
│   └── logo.png
└── README.md            # 说明文档
```

### 核心技术
- **Chrome Extension Manifest V3**：使用最新的扩展开发标准
- **Service Worker**：后台脚本处理网络请求
- **CSS Grid & Flexbox**：现代化布局技术
- **正则表达式**：智能数据提取
- **异步编程**：Promise和async/await

### 数据源
- **Google DNS API**：域名IP解析
- **爱站网 (aizhan.com)**：ICP备案信息
- **爱企查 (aiqicha.baidu.com)**：公司详细信息
- **VirusTotal API**：安全检测数据（需要API Key）
- **VirusTotal HTML**：安全检测数据（备用方案）

## 📦 安装方法

### 方法一：Chrome Web Store（推荐）
1. 访问Chrome Web Store
2. 搜索"Domain Search"
3. 点击"添加至Chrome"

### 方法二：开发者模式安装
1. 下载项目源码
2. 打开Chrome浏览器，进入 `chrome://extensions/`
3. 开启"开发者模式"
4. 点击"加载已解压的扩展程序"
5. 选择项目文件夹

## 🚀 使用方法

### 基本使用
1. **自动检测**：访问任意网站，扩展会自动显示当前域名信息
2. **手动搜索**：点击放大镜图标，输入域名或公司名称进行搜索
3. **标签页切换**：在"域名信息"和"VirusTotal"标签页间切换
4. **主题切换**：点击🎨按钮切换不同主题风格
5. **API配置**：点击⚙️按钮配置VirusTotal API Key
6. **调试信息**：点击"查看调试信息"查看详细的请求和响应数据

### 功能说明
- **域名地址**：显示当前网站的域名
- **网站IP**：显示域名解析的IP地址
- **资产归属**：显示域名归属公司的详细信息
- **备案信息**：显示ICP备案相关信息
- **安全检测**：显示VirusTotal安全评分和厂商检测结果

### VirusTotal API配置
1. 访问 [VirusTotal](https://www.virustotal.com/) 注册账号
2. 在个人资料页面获取API Key
3. 点击扩展右上角⚙️按钮
4. 输入API Key并保存
5. 享受更准确和完整的安全检测数据

## 🐛 故障排除

### 常见问题
1. **数据获取失败**：检查网络连接和网站访问权限
2. **扩展不工作**：重新加载扩展或检查控制台错误
3. **主题不生效**：清除浏览器缓存或重新安装扩展

### 调试模式
启用调试模式可以查看：
- 网络请求URL和状态码
- 数据提取过程
- 错误信息详情

## 📝 更新日志

### v0.6 (当前版本) 🆕
- ✅ 新增VirusTotal安全检测功能
- ✅ 实现双标签页设计（域名信息 + VirusTotal）
- ✅ 集成VirusTotal API支持
- ✅ 添加API Key配置功能
- ✅ 实现安全评分动态颜色显示
- ✅ 优化安全厂商检测结果展示
- ✅ 支持多种检测状态图标（Clean/Malicious/Unrated/Suspicious）
- ✅ 改进用户界面布局和美化
- ✅ 增强调试信息功能

### v0.5
- ✅ 添加多主题切换功能
- ✅ 优化备案信息显示布局
- ✅ 改进数据提取正则表达式
- ✅ 增强调试信息功能
- ✅ 修复CORS和网络请求问题

### v0.4
- ✅ 重构用户界面设计
- ✅ 添加资产归属信息
- ✅ 集成ICP备案查询
- ✅ 实现智能搜索功能

